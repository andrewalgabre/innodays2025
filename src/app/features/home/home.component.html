<div class="home-container">
  <!-- App Header -->
  <header class="app-header">
    <div class="app-branding">
      <img src="logo.png" alt="Logo" class="app-logo">
      <h1 class="app-title">{{ appName }}</h1>
    </div>
    <button class="btn-icon-header" (click)="openSettings()">
      <lucide-icon name="settings"></lucide-icon>
    </button>
  </header>

  <!-- Main Content -->
  <main class="app-main">
    <!-- Quick Action Card -->
    <div class="quick-action-card">
      <div class="action-content">
        <div class="action-icon">
          <lucide-icon name="camera"></lucide-icon>
        </div>
        <div class="action-text">
          <h2>Neuer Scan</h2>
          <p>Kuhklauen auf Krankheiten scannen</p>
        </div>
      </div>
      <button class="btn btn-primary btn-scan" (click)="startNewScan()">
        <lucide-icon name="camera"></lucide-icon>
        Scan starten
      </button>
    </div>

    <!-- Stats Cards -->
    <div class="stats-section">
      <h3 class="section-label">Übersicht</h3>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">
            <lucide-icon name="check-circle-2"></lucide-icon>
          </div>
          <div class="stat-content">
            <div class="stat-value">{{ totalScans }}</div>
            <div class="stat-label">Scans insgesamt</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <lucide-icon name="alert-triangle"></lucide-icon>
          </div>
          <div class="stat-content">
            <div class="stat-value">{{ totalFindings }}</div>
            <div class="stat-label">Befunde</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="recent-section">
      <h3 class="section-label">Letzte Scans</h3>

      <!-- Loading State -->
      <div class="empty-state" *ngIf="isLoading">
        <lucide-icon name="loader-2" class="loading-icon"></lucide-icon>
        <p>Lädt Scans...</p>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="!isLoading && recentScans.length === 0">
        <lucide-icon name="inbox"></lucide-icon>
        <p>Noch keine Scans</p>
        <span>Starten Sie Ihren ersten Scan zur Überwachung</span>
      </div>

      <!-- Recent Scans List -->
      <div class="scans-list" *ngIf="!isLoading && recentScans.length > 0">
        <div class="scan-card" *ngFor="let scan of recentScans" (click)="viewScan(scan)">
          <div class="scan-image">
            <img [src]="scan.imageBase64" alt="Scan">
          </div>
          <div class="scan-content">
            <div class="scan-header">
              <span class="scan-diagnosis">{{ scan.diagnosis }}</span>
              <span class="scan-time">{{ formatDate(scan.timestamp) }}</span>
            </div>
            <div class="scan-severity">
              <span class="severity-circle" [class]="'severity-' + scan.severity"></span>
              <span class="severity-label">{{ getSeverityLabel(scan.severity) }}</span>
            </div>
          </div>
          <div class="scan-arrow">
            <lucide-icon name="arrow-right"></lucide-icon>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a routerLink="/home" routerLinkActive="active" class="nav-item">
      <lucide-icon name="home"></lucide-icon>
      <span>Start</span>
    </a>
    <a routerLink="/history" routerLinkActive="active" class="nav-item">
      <lucide-icon name="history"></lucide-icon>
      <span>Verlauf</span>
    </a>
    <a routerLink="/training" routerLinkActive="active" class="nav-item">
      <lucide-icon name="bar-chart-3"></lucide-icon>
      <span>Training</span>
    </a>
    <a routerLink="/settings" routerLinkActive="active" class="nav-item">
      <lucide-icon name="settings"></lucide-icon>
      <span>Einstellungen</span>
    </a>
  </nav>
</div>
