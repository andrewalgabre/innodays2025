import{a as I}from"./chunk-YVLH6ENZ.js";import{N as E,O as z,b as O,c as P,e as w,k}from"./chunk-OLYYRW65.js";import{$ as _,$a as p,Fa as u,Ja as C,Oa as h,Ua as g,Va as e,Wa as t,Xa as o,_a as S,aa as x,ab as v,f,hb as M,ib as n,jb as d,ua as b,va as c}from"./chunk-NXH6DGID.js";function L(s,a){s&1&&(e(0,"div",33),o(1,"lucide-icon",34),e(2,"p"),n(3,"L\xE4dt Scans..."),t()())}function T(s,a){s&1&&(e(0,"div",33),o(1,"lucide-icon",35),e(2,"p"),n(3,"Noch keine Scans"),t(),e(4,"span"),n(5,"Starten Sie Ihren ersten Scan zur \xDCberwachung"),t()())}function A(s,a){if(s&1){let i=S();e(0,"div",38),p("click",function(){let l=_(i).$implicit,m=v(2);return x(m.viewScan(l))}),e(1,"div",39),o(2,"img",40),t(),e(3,"div",41)(4,"div",42)(5,"span",43),n(6),t(),e(7,"span",44),n(8),t()(),e(9,"div",45),o(10,"span",46),e(11,"span",47),n(12),t()()(),e(13,"div",48),o(14,"lucide-icon",49),t()()}if(s&2){let i=a.$implicit,r=v(2);c(2),g("src",i.imageBase64,b),c(4),d(i.diagnosis),c(2),d(r.formatDate(i.timestamp)),c(2),M("severity-"+i.severity),c(2),d(r.getSeverityLabel(i.severity))}}function H(s,a){if(s&1&&(e(0,"div",36),h(1,A,15,6,"div",37),t()),s&2){let i=v();c(),g("ngForOf",i.recentScans)}}var D=class s{constructor(a,i){this.router=a;this.storageService=i}appName="AgriVue";appTagline="AI-Powered Thermal Hoof Disease Detection";recentScans=[];isLoading=!0;totalScans=0;totalFindings=0;ngOnInit(){return f(this,null,function*(){yield this.loadRecentScans()})}loadRecentScans(){return f(this,null,function*(){try{this.isLoading=!0,this.recentScans=yield this.storageService.getRecentAnalyses(5),this.totalScans=yield this.storageService.getTotalCount();let a=yield this.storageService.getRecentAnalyses(1e3);this.totalFindings=a.filter(i=>i.diagnosis!=="gesund").length,console.log("Loaded recent scans:",this.recentScans)}catch(a){console.error("Failed to load recent scans:",a)}finally{this.isLoading=!1}})}startNewScan(){this.router.navigate(["/camera"])}openSettings(){this.router.navigate(["/settings"])}viewScan(a){this.router.navigate(["/results"],{state:{analysisResult:a.analysisResult,capturedImage:a.imageBase64}})}getSeverityLabel(a){return{none:"Keine",mild:"Leicht",moderate:"Mittel",severe:"Schwer"}[a]||a}formatDate(a){let i=new Date,r=new Date(a),l=i.getTime()-r.getTime(),m=Math.floor(l/(1e3*60*60*24));if(m===0){let y=Math.floor(l/36e5);return y===0?`vor ${Math.floor(l/6e4)} Min.`:`vor ${y} Std.`}else return m===1?"Gestern":m<7?`vor ${m} Tagen`:r.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})}static \u0275fac=function(i){return new(i||s)(u(k),u(I))};static \u0275cmp=C({type:s,selectors:[["app-home"]],decls:64,vars:6,consts:[[1,"home-container"],[1,"app-header"],[1,"app-branding"],["src","logo.png","alt","Logo",1,"app-logo"],[1,"app-title"],[1,"btn-icon-header",3,"click"],["name","settings"],[1,"app-main"],[1,"quick-action-card"],[1,"action-content"],[1,"action-icon"],["name","camera"],[1,"action-text"],[1,"btn","btn-primary","btn-scan",3,"click"],[1,"stats-section"],[1,"section-label"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","check-circle-2"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","alert-triangle"],[1,"recent-section"],["class","empty-state",4,"ngIf"],["class","scans-list",4,"ngIf"],[1,"bottom-nav"],[1,"nav-item","active"],["name","home"],[1,"nav-item"],["name","history"],["name","bar-chart-3"],[1,"empty-state"],["name","loader-2",1,"loading-icon"],["name","inbox"],[1,"scans-list"],["class","scan-card",3,"click",4,"ngFor","ngForOf"],[1,"scan-card",3,"click"],[1,"scan-image"],["alt","Scan",3,"src"],[1,"scan-content"],[1,"scan-header"],[1,"scan-diagnosis"],[1,"scan-time"],[1,"scan-severity"],[1,"severity-circle"],[1,"severity-label"],[1,"scan-arrow"],["name","arrow-right"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"header",1)(2,"div",2),o(3,"img",3),e(4,"h1",4),n(5),t()(),e(6,"button",5),p("click",function(){return r.openSettings()}),o(7,"lucide-icon",6),t()(),e(8,"main",7)(9,"div",8)(10,"div",9)(11,"div",10),o(12,"lucide-icon",11),t(),e(13,"div",12)(14,"h2"),n(15,"Neuer Scan"),t(),e(16,"p"),n(17,"Kuhklauen auf Krankheiten scannen"),t()()(),e(18,"button",13),p("click",function(){return r.startNewScan()}),o(19,"lucide-icon",11),n(20," Scan starten "),t()(),e(21,"div",14)(22,"h3",15),n(23,"\xDCbersicht"),t(),e(24,"div",16)(25,"div",17)(26,"div",18),o(27,"lucide-icon",19),t(),e(28,"div",20)(29,"div",21),n(30),t(),e(31,"div",22),n(32,"Scans insgesamt"),t()()(),e(33,"div",17)(34,"div",18),o(35,"lucide-icon",23),t(),e(36,"div",20)(37,"div",21),n(38),t(),e(39,"div",22),n(40,"Befunde"),t()()()()(),e(41,"div",24)(42,"h3",15),n(43,"Letzte Scans"),t(),h(44,L,4,0,"div",25)(45,T,6,0,"div",25)(46,H,2,1,"div",26),t()(),e(47,"nav",27)(48,"button",28),o(49,"lucide-icon",29),e(50,"span"),n(51,"Start"),t()(),e(52,"button",30),o(53,"lucide-icon",31),e(54,"span"),n(55,"Verlauf"),t()(),e(56,"button",30),o(57,"lucide-icon",32),e(58,"span"),n(59,"Statistik"),t()(),e(60,"button",30),o(61,"lucide-icon",6),e(62,"span"),n(63,"Einstellungen"),t()()()()),i&2&&(c(5),d(r.appName),c(25),d(r.totalScans),c(8),d(r.totalFindings),c(6),g("ngIf",r.isLoading),c(),g("ngIf",!r.isLoading&&r.recentScans.length===0),c(),g("ngIf",!r.isLoading&&r.recentScans.length>0))},dependencies:[w,O,P,z,E],styles:[".home-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:var(--gray-50);max-width:100%}.app-header[_ngcontent-%COMP%]{background:#fff;padding:1rem var(--spacing-md);display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--gray-200);position:sticky;top:0;z-index:10}.app-branding[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.app-logo[_ngcontent-%COMP%]{height:32px;width:auto}.app-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:var(--font-weight-semibold);color:var(--gray-900);margin:0}.btn-icon-header[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:transparent;color:var(--gray-600);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.25rem;transition:all .15s ease}.btn-icon-header[_ngcontent-%COMP%]:hover{background:var(--gray-100);color:var(--gray-900)}.app-main[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-lg) var(--spacing-md);padding-bottom:80px;overflow-y:auto}.quick-action-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-500),var(--primary-600));border-radius:var(--radius-lg);padding:var(--spacing-xl);color:#fff;margin-bottom:var(--spacing-lg);box-shadow:0 4px 12px #00945633}.action-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}.action-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:#fff3;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:1.75rem;flex-shrink:0}.action-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:var(--font-weight-bold);margin:0 0 .25rem;color:#fff}.action-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0;opacity:.9}.btn-scan[_ngcontent-%COMP%]{width:100%;background:#fff;color:var(--primary-600);font-weight:var(--font-weight-semibold);padding:.875rem 1.5rem}.btn-scan[_ngcontent-%COMP%]:hover{background:var(--gray-50);color:var(--primary-700)}.stats-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.section-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:var(--font-weight-semibold);color:var(--gray-600);text-transform:uppercase;letter-spacing:.05em;margin:0 0 var(--spacing-md)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-md)}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:var(--radius-lg);padding:var(--spacing-lg);display:flex;align-items:center;gap:var(--spacing-md);border:1px solid var(--gray-200)}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:var(--primary-50);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;color:var(--primary-600);font-size:1.25rem;flex-shrink:0}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:var(--font-weight-bold);color:var(--gray-900);line-height:1;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-600);font-weight:var(--font-weight-medium)}.recent-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:var(--radius-lg);padding:var(--spacing-2xl);text-align:center;border:1px solid var(--gray-200)}.empty-state[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--gray-300);margin-bottom:var(--spacing-md)}.empty-state[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--primary-500);animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:var(--font-weight-medium);color:var(--gray-700);margin:0 0 var(--spacing-xs)}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-500)}.scans-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.scan-card[_ngcontent-%COMP%]{background:#fff;border-radius:var(--radius-lg);padding:var(--spacing-md);display:flex;align-items:center;gap:var(--spacing-md);border:1px solid var(--gray-200);cursor:pointer;transition:all .2s ease}.scan-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.scan-card[_ngcontent-%COMP%]:active{transform:translateY(0)}.scan-image[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:var(--radius-md);overflow:hidden;flex-shrink:0;background:var(--gray-100)}.scan-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.scan-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.scan-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.scan-diagnosis[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:var(--gray-900);text-transform:capitalize}.scan-time[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--gray-500)}.scan-severity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.severity-circle[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.severity-circle.severity-none[_ngcontent-%COMP%]{background-color:#d1d5db}.severity-circle.severity-mild[_ngcontent-%COMP%]{background-color:#fbbf24}.severity-circle.severity-moderate[_ngcontent-%COMP%]{background-color:#f97316}.severity-circle.severity-severe[_ngcontent-%COMP%]{background-color:#dc2626}.severity-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--gray-600)}.scan-arrow[_ngcontent-%COMP%]{color:var(--gray-400);font-size:1.25rem;flex-shrink:0}.bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid var(--gray-200);display:flex;justify-content:space-around;padding:.5rem 0;box-shadow:0 -2px 8px #0000000d;z-index:10}.nav-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem;border:none;background:transparent;color:var(--gray-500);cursor:pointer;transition:all .15s ease;font-size:.75rem;font-weight:var(--font-weight-medium)}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.nav-item[_ngcontent-%COMP%]:hover{color:var(--gray-700)}.nav-item.active[_ngcontent-%COMP%]{color:var(--primary-600)}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6875rem}@media (min-width: 768px){.home-container[_ngcontent-%COMP%]{max-width:480px;margin:0 auto;border-left:1px solid var(--gray-200);border-right:1px solid var(--gray-200)}}.app-main[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.app-main[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}"]})};export{D as HomeComponent};
