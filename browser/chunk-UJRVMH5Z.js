import{R as n,a as i,b as o,m as r}from"./chunk-NXH6DGID.js";var a=class s{STORAGE_KEY="agrivue_settings";settings$=new r({aiProvider:"anthropic"});constructor(){this.loadSettings()}getProvider(){return this.settings$.value.aiProvider}setProvider(t){let e=o(i({},this.settings$.value),{aiProvider:t});this.settings$.next(e),this.saveSettings(e)}getSettings$(){return this.settings$.asObservable()}getSettings(){return this.settings$.value}loadSettings(){try{let t=localStorage.getItem(this.STORAGE_KEY);if(t){let e=JSON.parse(t);console.log("Settings loaded from localStorage:",e),this.settings$.next(e)}else console.log("No stored settings found, using defaults")}catch(t){console.error("Failed to load settings from localStorage:",t)}}saveSettings(t){try{let e=JSON.stringify(t);localStorage.setItem(this.STORAGE_KEY,e),console.log("Settings saved to localStorage:",t)}catch(e){console.error("Failed to save settings to localStorage:",e)}}resetSettings(){let t={aiProvider:"anthropic"};this.settings$.next(t),this.saveSettings(t)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{a};
